   1               		.file	"print.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__tmp_reg__ = 0
   6               	__zero_reg__ = 1
   7               		.text
   8               	.Ltext0:
   9               		.cfi_sections	.debug_frame
  10               		.section	.text.print_P,"ax",@progbits
  11               	.global	print_P
  13               	print_P:
  14               	.LVL0:
  15               	.LFB1:
  16               		.file 1 "print.c"
   1:print.c       **** /* Very basic print functions, intended to be used with usb_debug_only.c
   2:print.c       ****  * http://www.pjrc.com/teensy/
   3:print.c       ****  * Copyright (c) 2008 PJRC.COM, LLC
   4:print.c       ****  * 
   5:print.c       ****  * Permission is hereby granted, free of charge, to any person obtaining a copy
   6:print.c       ****  * of this software and associated documentation files (the "Software"), to deal
   7:print.c       ****  * in the Software without restriction, including without limitation the rights
   8:print.c       ****  * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   9:print.c       ****  * copies of the Software, and to permit persons to whom the Software is
  10:print.c       ****  * furnished to do so, subject to the following conditions:
  11:print.c       ****  * 
  12:print.c       ****  * The above copyright notice and this permission notice shall be included in
  13:print.c       ****  * all copies or substantial portions of the Software.
  14:print.c       ****  * 
  15:print.c       ****  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  16:print.c       ****  * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  17:print.c       ****  * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
  18:print.c       ****  * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  19:print.c       ****  * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
  20:print.c       ****  * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
  21:print.c       ****  * THE SOFTWARE.
  22:print.c       ****  */
  23:print.c       **** 
  24:print.c       **** // Version 1.0: Initial Release
  25:print.c       **** 
  26:print.c       **** #include <avr/io.h>
  27:print.c       **** #include <avr/pgmspace.h>
  28:print.c       **** 
  29:print.c       **** #include "print.h"
  30:print.c       **** 
  31:print.c       **** void print_P(const char *s)
  32:print.c       **** {
  17               		.loc 1 32 1 view -0
  18               		.cfi_startproc
  19               		.loc 1 32 1 is_stmt 0 view .LVU1
  20 0000 1F93      		push r17
  21               	.LCFI0:
  22               		.cfi_def_cfa_offset 3
  23               		.cfi_offset 17, -2
  24 0002 CF93      		push r28
  25               	.LCFI1:
  26               		.cfi_def_cfa_offset 4
  27               		.cfi_offset 28, -3
  28 0004 DF93      		push r29
  29               	.LCFI2:
  30               		.cfi_def_cfa_offset 5
  31               		.cfi_offset 29, -4
  32               	/* prologue: function */
  33               	/* frame size = 0 */
  34               	/* stack size = 3 */
  35               	.L__stack_usage = 3
  36 0006 EC01      		movw r28,r24
  37               	.LVL1:
  38               	.L4:
  33:print.c       **** 	char c;
  39               		.loc 1 33 2 is_stmt 1 view .LVU2
  34:print.c       **** 
  35:print.c       **** 	while (1) {
  40               		.loc 1 35 2 view .LVU3
  36:print.c       **** 		c = pgm_read_byte(s++);
  41               		.loc 1 36 3 view .LVU4
  42               	.LBB2:
  43               		.loc 1 36 7 view .LVU5
  44               		.loc 1 36 7 view .LVU6
  45               		.loc 1 36 7 view .LVU7
  46 0008 FE01      		movw r30,r28
  47               	/* #APP */
  48               	 ;  36 "print.c" 1
  49 000a 1491      		lpm r17, Z
  50               		
  51               	 ;  0 "" 2
  52               	.LVL2:
  53               		.loc 1 36 7 view .LVU8
  54               		.loc 1 36 7 is_stmt 0 view .LVU9
  55               	/* #NOAPP */
  56               	.LBE2:
  37:print.c       **** 		if (!c) break;
  57               		.loc 1 37 3 is_stmt 1 view .LVU10
  58               		.loc 1 37 6 is_stmt 0 view .LVU11
  59 000c 1123      		tst r17
  60 000e 01F0      		breq .L1
  38:print.c       **** 		if (c == '\n') usb_debug_putchar('\r');
  61               		.loc 1 38 3 is_stmt 1 view .LVU12
  62               		.loc 1 38 6 is_stmt 0 view .LVU13
  63 0010 1A30      		cpi r17,lo8(10)
  64 0012 01F4      		brne .L3
  65               		.loc 1 38 18 is_stmt 1 discriminator 1 view .LVU14
  66 0014 8DE0      		ldi r24,lo8(13)
  67 0016 0E94 0000 		call usb_debug_putchar
  68               	.LVL3:
  69               	.L3:
  39:print.c       **** 		usb_debug_putchar(c);
  70               		.loc 1 39 3 view .LVU15
  71 001a 812F      		mov r24,r17
  72 001c 0E94 0000 		call usb_debug_putchar
  73               	.LVL4:
  35:print.c       **** 		c = pgm_read_byte(s++);
  74               		.loc 1 35 8 view .LVU16
  75 0020 2196      		adiw r28,1
  76               	.LVL5:
  36:print.c       **** 		if (!c) break;
  77               		.loc 1 36 5 is_stmt 0 view .LVU17
  78 0022 00C0      		rjmp .L4
  79               	.LVL6:
  80               	.L1:
  81               	/* epilogue start */
  40:print.c       **** 	}
  41:print.c       **** }
  82               		.loc 1 41 1 view .LVU18
  83 0024 DF91      		pop r29
  84 0026 CF91      		pop r28
  85               	.LVL7:
  86               		.loc 1 41 1 view .LVU19
  87 0028 1F91      		pop r17
  88               	.LVL8:
  89               		.loc 1 41 1 view .LVU20
  90 002a 0895      		ret
  91               		.cfi_endproc
  92               	.LFE1:
  94               		.section	.text.phex1,"ax",@progbits
  95               	.global	phex1
  97               	phex1:
  98               	.LVL9:
  99               	.LFB2:
  42:print.c       **** 
  43:print.c       **** void phex1(unsigned char c)
  44:print.c       **** {
 100               		.loc 1 44 1 is_stmt 1 view -0
 101               		.cfi_startproc
 102               	/* prologue: function */
 103               	/* frame size = 0 */
 104               	/* stack size = 0 */
 105               	.L__stack_usage = 0
  45:print.c       **** 	usb_debug_putchar(c + ((c < 10) ? '0' : 'A' - 10));
 106               		.loc 1 45 2 view .LVU22
 107 0000 97E3      		ldi r25,lo8(55)
 108 0002 8A30      		cpi r24,lo8(10)
 109 0004 00F4      		brsh .L6
 110 0006 90E3      		ldi r25,lo8(48)
 111               	.L6:
 112               		.loc 1 45 2 is_stmt 0 discriminator 4 view .LVU23
 113 0008 890F      		add r24,r25
 114               	.LVL10:
 115               		.loc 1 45 2 discriminator 4 view .LVU24
 116 000a 0C94 0000 		jmp usb_debug_putchar
 117               	.LVL11:
 118               		.cfi_endproc
 119               	.LFE2:
 121               		.section	.text.phex,"ax",@progbits
 122               	.global	phex
 124               	phex:
 125               	.LVL12:
 126               	.LFB3:
  46:print.c       **** }
  47:print.c       **** 
  48:print.c       **** void phex(unsigned char c)
  49:print.c       **** {
 127               		.loc 1 49 1 is_stmt 1 view -0
 128               		.cfi_startproc
 129               		.loc 1 49 1 is_stmt 0 view .LVU26
 130 0000 CF93      		push r28
 131               	.LCFI3:
 132               		.cfi_def_cfa_offset 3
 133               		.cfi_offset 28, -2
 134               	/* prologue: function */
 135               	/* frame size = 0 */
 136               	/* stack size = 1 */
 137               	.L__stack_usage = 1
 138 0002 C82F      		mov r28,r24
  50:print.c       **** 	phex1(c >> 4);
 139               		.loc 1 50 2 is_stmt 1 view .LVU27
 140 0004 8295      		swap r24
 141               	.LVL13:
 142               		.loc 1 50 2 is_stmt 0 view .LVU28
 143 0006 8F70      		andi r24,lo8(15)
 144 0008 0E94 0000 		call phex1
 145               	.LVL14:
  51:print.c       **** 	phex1(c & 15);
 146               		.loc 1 51 2 is_stmt 1 view .LVU29
 147 000c 8C2F      		mov r24,r28
 148 000e 8F70      		andi r24,lo8(15)
 149               	/* epilogue start */
  52:print.c       **** }
 150               		.loc 1 52 1 is_stmt 0 view .LVU30
 151 0010 CF91      		pop r28
 152               	.LVL15:
  51:print.c       **** 	phex1(c & 15);
 153               		.loc 1 51 2 view .LVU31
 154 0012 0C94 0000 		jmp phex1
 155               	.LVL16:
 156               		.cfi_endproc
 157               	.LFE3:
 159               		.section	.text.phex16,"ax",@progbits
 160               	.global	phex16
 162               	phex16:
 163               	.LVL17:
 164               	.LFB4:
  53:print.c       **** 
  54:print.c       **** void phex16(unsigned int i)
  55:print.c       **** {
 165               		.loc 1 55 1 is_stmt 1 view -0
 166               		.cfi_startproc
 167               		.loc 1 55 1 is_stmt 0 view .LVU33
 168 0000 CF93      		push r28
 169               	.LCFI4:
 170               		.cfi_def_cfa_offset 3
 171               		.cfi_offset 28, -2
 172               	/* prologue: function */
 173               	/* frame size = 0 */
 174               	/* stack size = 1 */
 175               	.L__stack_usage = 1
 176 0002 C82F      		mov r28,r24
 177 0004 892F      		mov r24,r25
 178               	.LVL18:
  56:print.c       **** 	phex(i >> 8);
 179               		.loc 1 56 2 is_stmt 1 view .LVU34
 180 0006 0E94 0000 		call phex
 181               	.LVL19:
  57:print.c       **** 	phex(i);
 182               		.loc 1 57 2 view .LVU35
 183 000a 8C2F      		mov r24,r28
 184               	/* epilogue start */
  58:print.c       **** }
 185               		.loc 1 58 1 is_stmt 0 view .LVU36
 186 000c CF91      		pop r28
  57:print.c       **** 	phex(i);
 187               		.loc 1 57 2 view .LVU37
 188 000e 0C94 0000 		jmp phex
 189               	.LVL20:
 190               		.cfi_endproc
 191               	.LFE4:
 193               		.text
 194               	.Letext0:
 195               		.file 2 "/usr/local/Cellar/avr-gcc/9.2.0_1/avr/include/stdint.h"
 196               		.file 3 "usb_keyboard_debug.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 print.c
/var/folders/cf/2ytwk0ds25l23zw7m7955dkm0000gn/T//ccxxn1vs.s:2      *ABS*:000000000000003e __SP_H__
/var/folders/cf/2ytwk0ds25l23zw7m7955dkm0000gn/T//ccxxn1vs.s:3      *ABS*:000000000000003d __SP_L__
/var/folders/cf/2ytwk0ds25l23zw7m7955dkm0000gn/T//ccxxn1vs.s:4      *ABS*:000000000000003f __SREG__
/var/folders/cf/2ytwk0ds25l23zw7m7955dkm0000gn/T//ccxxn1vs.s:5      *ABS*:0000000000000000 __tmp_reg__
/var/folders/cf/2ytwk0ds25l23zw7m7955dkm0000gn/T//ccxxn1vs.s:6      *ABS*:0000000000000001 __zero_reg__
/var/folders/cf/2ytwk0ds25l23zw7m7955dkm0000gn/T//ccxxn1vs.s:13     .text.print_P:0000000000000000 print_P
/var/folders/cf/2ytwk0ds25l23zw7m7955dkm0000gn/T//ccxxn1vs.s:97     .text.phex1:0000000000000000 phex1
/var/folders/cf/2ytwk0ds25l23zw7m7955dkm0000gn/T//ccxxn1vs.s:124    .text.phex:0000000000000000 phex
/var/folders/cf/2ytwk0ds25l23zw7m7955dkm0000gn/T//ccxxn1vs.s:162    .text.phex16:0000000000000000 phex16

UNDEFINED SYMBOLS
usb_debug_putchar
